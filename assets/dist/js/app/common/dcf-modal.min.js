/**
 * @project        dcf
 * @author         Digital Campus Nebraska
 * @website        http://digitalcampus.us/
 * @copyright      Copyright (c) 2019, BSD-3-Clause
 *
 */
"use strict";var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t():e.dcfModal=t()}(void 0,function(){return function(){function e(t){_classCallCheck(this,e),this.modals=t}return _createClass(e,[{key:"prependBody",value:function(e){var t=document.querySelector("body"),n=t.firstElementChild;t.insertBefore(e,n)}},{key:"openModal",value:function(e,t){for(var n=document.querySelector("body"),o=0;o<this.modals.length;o++){var i=this.modals[o];i.getAttribute("id")!==e&&this.closeModal(i.getAttribute("id"))}var d=document.getElementById(e),r="false"===d.getAttribute("aria-hidden");t&&(currentBtn=t),currentModal=e,r||(nonModals.forEach(function(e,t){e.setAttribute("aria-hidden","true"),e.setAttribute("inert","")}),n.classList.add("dcf-modal-is-open"),d.setAttribute("aria-hidden","false"),d.classList.remove("dcf-opacity-0","dcf-pointer-events-none","dcf-invisible"),d.classList.add("dcf-opacity-100","dcf-pointer-events-auto"),d.focus())}},{key:"closeModal",value:function(e){var t=document.querySelector("body"),n=document.getElementById(e),o="true"===n.getAttribute("aria-hidden");currentModal=null,o||(t.classList.remove("dcf-modal-is-open"),nonModals.forEach(function(e,t){e.setAttribute("aria-hidden","false"),e.removeAttribute("inert")}),n.setAttribute("aria-hidden","true"),n.classList.remove("dcf-opacity-100","dcf-pointer-events-auto"),n.classList.add("dcf-opacity-0","dcf-pointer-events-none"),currentBtn&&document.getElementById(currentBtn).focus())}},{key:"btnOpenListen",value:function(e,t,n){e.addEventListener("click",function(){this.openModal(t,n)},!1)}},{key:"btnCloseListen",value:function(e,t){e.addEventListener("click",function(){this.closeModal(t.getAttribute("id"))},!1)}},{key:"overlayListen",value:function(e,t){e.addEventListener("click",function(n){t.contains(n.target)||this.closeModal(e.getAttribute("id"))})}},{key:"initialize",value:function(){if(this.modals){document.querySelector("body");for(var e=document.querySelectorAll(".dcf-btn-open-modal"),t=document.querySelectorAll(".dcf-btn-close-modal"),n=document.querySelectorAll(".dcf-modal-content"),o=(document.getElementById("dcf-skip-nav"),document.getElementById("dcf-header"),document.getElementById("dcf-main"),document.getElementById("dcf-footer"),0);o<e.length;o++){var i=e[o],d=i.getAttribute("data-opens-modal"),r="dcf-btn-opens-"+d;i.setAttribute("id",r),i.removeAttribute("disabled"),this.btnOpenListen(i,d,r)}for(var c=0;c<this.modals.length;c++){var a=this.modals[c],l=n[c],s=t[c],u=a.id+"-heading";l.querySelectorAll("h1, h2, h3, h4, h5, h6")[0].id=u,this.prependBody(a),a.removeAttribute("hidden"),a.setAttribute("aria-labelledby",u),a.setAttribute("aria-hidden","true"),a.setAttribute("role","dialog"),a.setAttribute("tabindex","-1"),a.classList.add("dcf-fixed","dcf-pin-top","dcf-pin-left","dcf-h-100%","dcf-w-100%","dcf-d-flex","dcf-ai-center","dcf-jc-center","dcf-invisible"),l.setAttribute("role","document"),l.classList.add("dcf-relative","dcf-wrapper","dcf-pt-7","dcf-pb-7"),s.classList.add("dcf-absolute","dcf-pin-top","dcf-pin-right","dcf-z-1"),s.setAttribute("type","button"),s.setAttribute("aria-label","Close"),this.overlayListen(a,l),this.btnCloseListen(s,a)}}}}]),e}()});
//# sourceMappingURL=dcf-modal.min.js.map
