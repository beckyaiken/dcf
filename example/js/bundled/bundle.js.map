{"version":3,"sources":["node_modules/browser-pack/_prelude.js","assets/dist/js/app/preBabel/common/dcf-lazyLoad.js","assets/dist/js/app/preBabel/common/dcf-modal.js","assets/dist/js/app/preBabel/common/dcf-uuidGen.js","example/js/src/main-body.js","node_modules/body-scroll-lock/lib/bodyScrollLock.min.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",";(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.dcfLazyLoad = factory();\n  }\n}(this, function() {\nclass LazyLoad {\n  /**\n   * class constructor\n   * @param {imagesList} nodelist of selected images\n   * @param {observerConfig} object of intersectionObserver configuration\n   * @param {classNames} array of classes applied\n   */\n  constructor(imagesList, observerConfig, classNames) {\n    this.imagesList = imagesList;\n    this.observerConfig = observerConfig;\n    this.classNames = classNames; // add onEnter, onEnterActive?\n  }\n\n  pxTOvw(value) {\n    var w = window,\n      d = document,\n      e = d.documentElement,\n      g = d.getElementsByTagName('body')[0],\n      x = w.innerWidth || e.clientWidth || g.clientWidth;\n\n    var result = (100*value)/x;\n    return result + 'vw';\n  };\n\n  /**\n   * Apply the image: preloaded image is loaded but not applied to actual image element\n   * @param {string} image: the image element that we are targetting\n   */\n  applyImage(image) {\n    const src = image.dataset.src;\n    const srcset = image.dataset.srcset || null;\n    const sizes = image.dataset.sizes || this.pxTOvw(image.parentElement.clientWidth);\n\n    if (!src) {\n      return;\n      //throw new Error('No image src attribute provided');\n    }\n\n    // Prevent this from being lazy loaded a second time.\n    image.classList.add('dcf-lazy-loaded');\n    src && (image.src = src);\n    src && (image.removeAttribute('data-src'));\n    srcset && (image.srcset = srcset);\n    srcset && (image.removeAttribute('data-srcset'));\n    sizes && (image.sizes = sizes);\n    sizes && (image.removeAttribute('data-sizes'));\n    this.classNames.length && this.classNames.forEach(className => image.classList.add(className));\n  };\n\n  /**\n   * Fetches the image for the given source\n   * @param {string} src\n   * @param {string} srcset, defaults to null if not provided\n   */\n  fetchImage(src, srcset = null, sizes = null) {\n    return new Promise((resolve, reject) => {\n      const image = new Image();\n      src && (image.src = src);\n      srcset && (image.srcset = srcset);\n      sizes && (image.sizes = sizes);\n\n      image.onload = resolve;\n      image.onerror = reject;\n    });\n  }\n\n  /**\n   * Preloads the image\n   * @param {object} image\n   */\n  preloadImage(image) {\n    const src = image.dataset.src;\n    const srcset = image.dataset.srcset;\n    const sizes = image.dataset.sizes || null;\n\n    if (!src) {\n      return;\n      //throw new Error('No image src attribute provided');\n    }\n\n    return this.fetchImage(src, srcset, sizes).catch(err => `Image failed to fetch ${err.mes}`);\n  };\n\n  /**\n   * Load all of the images immediately\n   * @param {NodeListOf<Element>} preload\n   * @param {boolean} images\n   */\n  loadImagesImmediately(images, preload = true) {\n    // foreach() is not supported in IE\n    for (let i = 0; i < images.length; i++) {\n      let image = images[i];\n      if (preload === true) {\n        this.preloadImage(image);\n      }\n      this.applyImage(image);\n    }\n  }\n\n  /**\n   * Disconnect the observer\n   */\n  disconnect() {\n    if (!this.observer) {\n      return;\n    }\n\n    this.observer.disconnect();\n  };\n\n  /**\n   * On intersection\n   * @param {array} intersection entries\n   * @param {object} intersection observer\n   */\n  onIntersection = (entries, observer) => {\n\n    // Disconnect if we've already loaded all of the images\n    if (this.imageCount === 0) {\n      this.observer.disconnect();\n    }\n\n    // Loop through the entries\n    for (let i = 0; i < entries.length; i++) {\n      let entry = entries[i];\n\n      // Are we in viewport?\n      // console.log(entry.intersectionRatio);\n\n      if (entry.intersectionRatio > observer.thresholds[0] && entry.intersectionRatio < observer.thresholds[1]) {\n        this.preloadImage(entry.target);\n      } else if (entry.intersectionRatio > observer.thresholds[1]) {\n        this.imageCount--;\n        this.applyImage(entry.target);\n        this.observer.unobserve(entry.target);\n      }\n    }\n  };\n\n\n  initialize() {\n    if(!this.imagesList) return;\n\n    // counter: keeps track of which images that hasn't been loaded\n    this.imageCount = this.imagesList.length;\n\n    if (\"loading\" in HTMLImageElement.prototype) {\n      // Native lazy loading IS supported, so set src-data to src\n      this.loadImagesImmediately(this.imagesList, false);\n    } else {\n      // Native lazy loading NOT supported, so handle via javascript\n      // If browser doesn't support intersection observer, load the images immediately\n      if (!('IntersectionObserver' in window)) {\n        this.loadImagesImmediately(this.imagesList);\n      } else {\n        // It is supported, load the images\n        this.observer = new IntersectionObserver(this.onIntersection, this.observerConfig);\n\n        // foreach() is not supported in IE\n        for (let i = 0; i < this.imageCount; i++) {\n          let image = this.imagesList[i];\n          if (image.classList.contains('dcf-lazy-loaded')) {\n            continue;\n          }\n\n          this.observer.observe(image);\n        }\n      }\n    }\n  }\n}\n\nreturn LazyLoad;\n}));\n",";(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(['./dcf-uuidGen'], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory(require('./dcf-uuidGen'));\n  } else {\n    root.dcfModal = factory(root.dcfHelperUuidv4);\n  }\n}(this, function(uuidv4) {\nconst bodyScrollLock = require('body-scroll-lock');\nconst disableBodyScroll = bodyScrollLock.disableBodyScroll;\nconst enableBodyScroll = bodyScrollLock.enableBodyScroll;\n\nclass Modal {\n  /**\n   * class constructor\n   * @param {modals} modals of selected modals\n   */\n  constructor(modals) {\n    this.modals = modals;\n  }\n\n  /**\n   * Prepend modals to body so that elements outside of modal can be made inert\n   * @param {string} el: the element that we are targetting\n   */\n  prependBody(el) {\n    const body = document.querySelector('body');\n    const firstChild = body.firstElementChild;\n    body.insertBefore(el, firstChild);\n  }\n\n  // Open modal\n  openModal(modalId, openBtnId) {\n\n    const body = document.querySelector('body');\n    const skipNav = document.getElementById('dcf-skip-nav');\n    const header = document.getElementById('dcf-header');\n    const main = document.getElementById('dcf-main');\n    const footer = document.getElementById('dcf-footer');\n    const nonModals = [ skipNav, header, main, footer ];\n\n    for (let i = 0; i < this.modals.length; i++) {\n      const modal = this.modals[i];\n      if (modal.getAttribute('id') !== modalId) {\n        this.closeModal(modal.getAttribute('id'));\n      }\n    }\n\n    const thisModal = document.getElementById(modalId);\n    let modalOpen = thisModal.getAttribute('aria-hidden') === 'false' ? true : false;\n\n    if (openBtnId) {\n      this.currentBtn = openBtnId;\n    }\n\n    this.currentModal = modalId;\n\n    // Don't open modal if it's already open\n    if (modalOpen) {\n      return;\n    }\n\n    // Set elements outside of modal to be inert and hidden from screen readers\n    nonModals.forEach(function(el, array) {\n      el.setAttribute('aria-hidden','true');\n      el.setAttribute('inert','');\n    });\n\n    // Prevent body from scrolling\n    disableBodyScroll(thisModal);\n\n    // Add `.dcf-modal-is-open` helper class to body\n    body.classList.add('dcf-modal-is-open');\n\n    // Set attribute for this modal\n    thisModal.setAttribute('aria-hidden', 'false');\n\n    // Add/remove classes to this modal\n    thisModal.classList.remove('dcf-opacity-0', 'dcf-pointer-events-none', 'dcf-invisible');\n    thisModal.classList.add('dcf-opacity-100', 'dcf-pointer-events-auto');\n\n    const keycodeTab = 9;\n    const tabFocusEls = thisModal.querySelectorAll('button:not([hidden]):not([disabled]), [href]:not([hidden]), input:not([hidden]):' +\n            'not([type=\"hidden\"]):not([disabled]), select:not([hidden]):not([disabled]), text' +\n            'area:not([hidden]):not([disabled]), [tabindex=\"0\"]:not([hidden]):not([disabled])' +\n            ', summary:not([hidden]), [contenteditable]:not([hidden]), audio[controls]:not([h' +\n            'idden]), video[controls]:not([hidden])');\n    let firstTabFocusEl = tabFocusEls[0];\n    let lastTabFocusEl = tabFocusEls[tabFocusEls.length - 1];\n\n    // Send focus to the first focusable element in the modal content\n    firstTabFocusEl.focus();\n\n    // Trap focus inside the modal content\n    thisModal.addEventListener('keydown', function(e) {\n\n      let isTabPressed = e.key === 'Tab' || e.keyCode === keycodeTab;\n\n      if (!isTabPressed) {\n        return;\n      }\n\n      if (e.key === 'Tab' || e.keyCode === keycodeTab) {\n        if ( e.shiftKey ) { // Tab backwards (shift + tab)\n          if (document.activeElement === firstTabFocusEl) {\n            e.preventDefault();\n            lastTabFocusEl.focus();\n          }\n        } else { // Tab forwards\n          if (document.activeElement === lastTabFocusEl) {\n            e.preventDefault();\n            firstTabFocusEl.focus();\n          }\n        }\n      }\n    });\n  }\n\n  // Close modal\n  closeModal(modalId) {\n\n    const body = document.querySelector('body');\n    const skipNav = document.getElementById('dcf-skip-nav');\n    const header = document.getElementById('dcf-header');\n    const main = document.getElementById('dcf-main');\n    const footer = document.getElementById('dcf-footer');\n    const nonModals = [skipNav, header, main, footer];\n    const thisModal = document.getElementById(modalId);\n    let modalClosed = thisModal.getAttribute('aria-hidden') === 'true' ? true : false;\n    this.currentModal = null;\n\n    // Don't close modal if it's already closed\n    if (modalClosed) {\n      return;\n    }\n\n    // Remove `.dcf-modal-is-open` helper class from body\n    body.classList.remove('dcf-modal-is-open');\n\n    // Restore visibility andd functionality to elements outside of modal\n    nonModals.forEach(function(el, array) {\n      el.setAttribute('aria-hidden','false');\n      el.removeAttribute('inert');\n    });\n\n    // Set attribute for this modal\n    thisModal.setAttribute('aria-hidden', 'true');\n\n    // Add/remove classes to this modal\n    thisModal.classList.remove('dcf-opacity-100', 'dcf-pointer-events-auto');\n    thisModal.classList.add('dcf-opacity-0', 'dcf-pointer-events-none');\n\n    // Modal transition\n    function modalTransition() {\n\n    \t// Remove event listener after the modal transition\n      thisModal.removeEventListener('transitionend', modalTransition);\n\n      // Add the `.dcf-invisible` class to this modal after the transition\n      if (!thisModal.classList.contains('dcf-invisible')) {\n        thisModal.classList.add('dcf-invisible');\n      }\n    }\n\n    // Add event listener for the end of the modal transition\n    thisModal.addEventListener('transitionend', modalTransition);\n\n    // Send focus back to button that opened modal\n    if (this.currentBtn) {\n      document.getElementById(this.currentBtn).focus();\n    }\n\n    // Allow body to scroll\n    enableBodyScroll(thisModal);\n  }\n\n  btnOpenListen(btnOpenModal, modalId, btnId) {\n    let modalInstance = this;\n\n    // Listen for when 'open modal' button is pressed\n    btnOpenModal.addEventListener('click', function () {\n\n      // Open modal when button is pressed\n      modalInstance.openModal(modalId, btnId);\n    }, false);\n  }\n\n  btnCloseListen(btnCloseModal, modal) {\n    let modalInstance = this;\n\n    // Listen for when 'close modal' button is pressed\n    btnCloseModal.addEventListener('click', function () {\n\n      // Open modal when button is pressed\n      modalInstance.closeModal(modal.getAttribute('id'));\n    }, false);\n  }\n\n  overlayListen(modal, modalContent) {\n    let modalInstance = this;\n\n    // Listen for clicks on the open modal\n    modal.addEventListener('click', function (event) {\n\n      // If the click is in modal content, leave the modal open\n      if (modalContent.contains(event.target)) {\n        return;\n      }\n\n      // If the click is outside the modal content (on the modal overlay), close the modal\n      modalInstance.closeModal(modal.getAttribute('id'));\n    });\n  }\n\n  escListen() {\n    let modalInstance = this;\n\n    // Listen for when 'esc' key is pressed\n    document.addEventListener('keydown', function (event) {\n\n      // Close the currently open modal when 'esc' key is pressed\n      if (event.which === 27 && modalInstance.currentModal) {\n        event.preventDefault();\n        modalInstance.closeModal(modalInstance.currentModal);\n      }\n    });\n\n  }\n\n  initialize() {\n    if(!this.modals) {\n      return;\n    }\n\n    // Define constants used in modal component\n    const body = document.querySelector('body');\n    const btnsOpenModal = document.querySelectorAll('.dcf-btn-open-modal');\n    const btnsCloseModal = document.querySelectorAll('.dcf-btn-close-modal');\n    const modalsContent = document.querySelectorAll('.dcf-modal-content');\n\n    let currentBtn = null;\n    let currentModal = null;\n\n    // Loop through all buttons that open modals\n    for (let i = 0; i < btnsOpenModal.length; i++) {\n      const btnOpenModal = btnsOpenModal[i];\n      const modalId = btnOpenModal.getAttribute('data-opens-modal');\n\n      // Generate unique ID for each 'open modal' button\n      const btnId = uuidv4();\n      btnOpenModal.setAttribute('id', btnId);\n\n      // Buttons are disabled by default until JavaScript has loaded.\n      // Remove the 'disabled' attribute to make them functional.\n      btnOpenModal.removeAttribute('disabled');\n      this.btnOpenListen(btnOpenModal, modalId, btnId);\n    }\n\n    // Loop through all modals\n    for (let i = 0; i < this.modals.length; i++) {\n      const modal = this.modals[i];\n      const modalContent = modalsContent[i];\n      const btnCloseModal = btnsCloseModal[i];\n      const modalId = modal.id;\n      const modalHeadingId = modalId + '-heading';\n\n      // Get all headings in each modal\n      const modalHeadings = modalContent.querySelectorAll('h1, h2, h3, h4, h5, h6');\n\n      // Set ID on the first heading of each modal\n      modalHeadings[0].id = modalHeadingId;\n\n      // Prepend modals to body so that elements outside of modal can be made inert when modal is open\n      this.prependBody(modal);\n\n      // Modals are hidden by default until JavaScript has loaded.\n      // Remove `hidden` attribute, then later replace with `.dcf-invisible` to allow for modal transitions.\n      modal.removeAttribute('hidden');\n\n      // Set attributes for each modal\n      modal.setAttribute('aria-labelledby', modalHeadingId);\n      modal.setAttribute('aria-hidden', 'true');\n      modal.setAttribute('role', 'dialog');\n      modal.setAttribute('tabindex', '-1');\n\n      // Check modal for any additional classes\n      if (modal.classList.length === 1 && modal.classList.contains('dcf-modal')) {\n        // If no custom classes are present, add default background utility class to modal\n        modal.classList.add('dcf-bg-overlay-dark');\n      }\n\n      // Add default utility classes to each modal\n      modal.classList.add('dcf-fixed', 'dcf-pin-top', 'dcf-pin-left', 'dcf-h-100%', 'dcf-w-100%', 'dcf-d-flex', 'dcf-ai-center', 'dcf-jc-center', 'dcf-opacity-0', 'dcf-pointer-events-none', 'dcf-invisible');\n\n      // Set attribute for modal content\n      modalContent.setAttribute('role', 'document');\n\n      // Check modal content for any additional classes\n      if (modalContent.classList.length === 1 && modalContent.classList.contains('dcf-modal-content')) {\n        // If no custom classes are present, add default utility classes to modal content\n        modalContent.classList.add('dcf-bg-white', 'dcf-relative', 'dcf-wrapper', 'dcf-pt-8', 'dcf-pb-7', 'dcf-h-auto', 'dcf-overflow-y-auto');\n      }\n\n      // Check each 'close' button for any additional classes\n      if (btnCloseModal.classList.length === 1 && btnCloseModal.classList.contains('dcf-btn-close-modal')) {\n        // If no custom classes are present, add default utility classes to 'close' button\n        btnCloseModal.classList.add('dcf-btn', 'dcf-btn-tertiary', 'dcf-absolute', 'dcf-pin-top', 'dcf-pin-right', 'dcf-z-1');\n      }\n\n      // Set attributes for each 'close' button\n      btnCloseModal.setAttribute('type', 'button');\n      btnCloseModal.setAttribute('aria-label', 'Close');\n\n      this.escListen();\n      this.overlayListen(modal, modalContent);\n      this.btnCloseListen(btnCloseModal, modal);\n\n    }\n  }\n}\n\nreturn Modal;\n}));\n",";(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.dcfHelperUuidv4 = factory();\n  }\n}(this, function() {\nfunction uuidv4() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0,\n        v = c === 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\n\nreturn uuidv4;\n}));\n","let LazyLoad = require('dcf-lazyLoad');\nlet Modal = require('dcf-modal');\n// let Notice = require('dcf-notice');\n\n// let flatpickr = require('flatpickr/flatpickr');\n// require(\"flatpickr/flatpickr.css\");\n\n\n// const noticeOptions = {\n// \twidget: 'notice',\n// \t'notice-type': 'alert',\n// \tanimation: 'true',\n// \tlocation: 'fixedBottom',\n// \tcollapsible: 'true',\n// \tid: 'dynamicNotice1'\n// };\n//\n// Notice.create('Spaghetti Monster Lives', 'You know no spaghetti', noticeOptions);\n\n\n// let datepicker = document.querySelector('[data-widget*=\"flatpickr\"]');\n// flatpickr(datepicker, {\n// \tenableTime: true,\n// \tdateFormat: \"Y-m-d h:iK\",\n// });\n\nconst images = document.querySelectorAll('[loading=lazy], .dcf-lazy-load');\nconst observerConfig = {\n\t// extend intersection root margin by 50px to start intersection earlier by 50px\n\trootMargin: '0px 0px 50px 0px',\n\tthreshold: [0, 0.40]\n};\nconst enterClassNames = ['dcf-fade-in'];\nconst exampleLazyLoad = new LazyLoad(images, observerConfig, enterClassNames);\nexampleLazyLoad.initialize();\n\nconst modals = document.querySelectorAll('.dcf-modal');\nconst exampleModal = new Modal(modals);\nexampleModal.initialize();\n","!function(e,t){if(\"function\"==typeof define&&define.amd)define([\"exports\"],t);else if(\"undefined\"!=typeof exports)t(exports);else{var o={};t(o),e.bodyScrollLock=o}}(this,function(exports){\"use strict\";function r(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}Object.defineProperty(exports,\"__esModule\",{value:!0});var l=!1;if(\"undefined\"!=typeof window){var e={get passive(){l=!0}};window.addEventListener(\"testPassive\",null,e),window.removeEventListener(\"testPassive\",null,e)}var d=\"undefined\"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),c=[],u=!1,a=-1,s=void 0,v=void 0,f=function(t){return c.some(function(e){return!(!e.options.allowTouchMove||!e.options.allowTouchMove(t))})},m=function(e){var t=e||window.event;return!!f(t.target)||(1<t.touches.length||(t.preventDefault&&t.preventDefault(),!1))},o=function(){setTimeout(function(){void 0!==v&&(document.body.style.paddingRight=v,v=void 0),void 0!==s&&(document.body.style.overflow=s,s=void 0)})};exports.disableBodyScroll=function(i,e){if(d){if(!i)return void console.error(\"disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.\");if(i&&!c.some(function(e){return e.targetElement===i})){var t={targetElement:i,options:e||{}};c=[].concat(r(c),[t]),i.ontouchstart=function(e){1===e.targetTouches.length&&(a=e.targetTouches[0].clientY)},i.ontouchmove=function(e){var t,o,n,r;1===e.targetTouches.length&&(o=i,r=(t=e).targetTouches[0].clientY-a,!f(t.target)&&(o&&0===o.scrollTop&&0<r?m(t):(n=o)&&n.scrollHeight-n.scrollTop<=n.clientHeight&&r<0?m(t):t.stopPropagation()))},u||(document.addEventListener(\"touchmove\",m,l?{passive:!1}:void 0),u=!0)}}else{n=e,setTimeout(function(){if(void 0===v){var e=!!n&&!0===n.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth;e&&0<t&&(v=document.body.style.paddingRight,document.body.style.paddingRight=t+\"px\")}void 0===s&&(s=document.body.style.overflow,document.body.style.overflow=\"hidden\")});var o={targetElement:i,options:e||{}};c=[].concat(r(c),[o])}var n},exports.clearAllBodyScrollLocks=function(){d?(c.forEach(function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null}),u&&(document.removeEventListener(\"touchmove\",m,l?{passive:!1}:void 0),u=!1),c=[],a=-1):(o(),c=[])},exports.enableBodyScroll=function(t){if(d){if(!t)return void console.error(\"enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.\");t.ontouchstart=null,t.ontouchmove=null,c=c.filter(function(e){return e.targetElement!==t}),u&&0===c.length&&(document.removeEventListener(\"touchmove\",m,l?{passive:!1}:void 0),u=!1)}else(c=c.filter(function(e){return e.targetElement!==t})).length||o()}});\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvZGlzdC9qcy9hcHAvcHJlQmFiZWwvY29tbW9uL2RjZi1sYXp5TG9hZC5qcyIsImFzc2V0cy9kaXN0L2pzL2FwcC9wcmVCYWJlbC9jb21tb24vZGNmLW1vZGFsLmpzIiwiYXNzZXRzL2Rpc3QvanMvYXBwL3ByZUJhYmVsL2NvbW1vbi9kY2YtdXVpZEdlbi5qcyIsImV4YW1wbGUvanMvc3JjL21haW4tYm9keS5qcyIsIm5vZGVfbW9kdWxlcy9ib2R5LXNjcm9sbC1sb2NrL2xpYi9ib2R5U2Nyb2xsTG9jay5taW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7OztBQ0FBLENBQUUsV0FBUyxJQUFULEVBQWUsT0FBZixFQUF3QjtBQUN4QixNQUFJLE9BQU8sTUFBUCxLQUFrQixVQUFsQixJQUFnQyxPQUFPLEdBQTNDLEVBQWdEO0FBQzlDLFdBQU8sRUFBUCxFQUFXLE9BQVg7QUFDRCxHQUZELE1BRU8sSUFBSSxRQUFPLE9BQVAseUNBQU8sT0FBUCxPQUFtQixRQUF2QixFQUFpQztBQUN0QyxXQUFPLE9BQVAsR0FBaUIsU0FBakI7QUFDRCxHQUZNLE1BRUE7QUFDTCxTQUFLLFdBQUwsR0FBbUIsU0FBbkI7QUFDRDtBQUNGLENBUkMsYUFRTSxZQUFXO0FBQUEsTUFDYixRQURhO0FBRWpCOzs7Ozs7QUFNQSxzQkFBWSxVQUFaLEVBQXdCLGNBQXhCLEVBQXdDLFVBQXhDLEVBQW9EO0FBQUE7O0FBQUE7O0FBQUEsV0E0R3BELGNBNUdvRCxHQTRHbkMsVUFBQyxPQUFELEVBQVUsUUFBVixFQUF1Qjs7QUFFdEM7QUFDQSxZQUFJLE1BQUssVUFBTCxLQUFvQixDQUF4QixFQUEyQjtBQUN6QixnQkFBSyxRQUFMLENBQWMsVUFBZDtBQUNEOztBQUVEO0FBQ0EsYUFBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLFFBQVEsTUFBNUIsRUFBb0MsR0FBcEMsRUFBeUM7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QUN0QjtBQUNBLGFBQVksa0JBRlU7QUFHdEIsWUFBVyxDQUFDLENBQUQsRUFBSSxJQUFKO0FBSFcsQ0FBdkI7QUFLQSxJQUFNLGtCQUFrQixDQUFDLGFBQUQsQ0FBeEI7QUFDQSxJQUFNLGtCQUFrQixJQUFJLFFBQUosQ0FBYSxNQUFiLEVBQXFCLGNBQXJCLEVBQXFDLGVBQXJDLENBQXhCO0FBQ0EsZ0JBQWdCLFVBQWhCOztBQUVBLElBQU0sU0FBUyxTQUFTLGdCQUFULENBQTBCLFlBQTFCLENBQWY7QUFDQSxJQUFNLGVBQWUsSUFBSSxLQUFKLENBQVUsTUFBVixDQUFyQjtBQUNBLGFBQWEsVUFBYjs7O0FDdENBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCI7KGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gIH0gZWxzZSB7XG4gICAgcm9vdC5kY2ZMYXp5TG9hZCA9IGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbigpIHtcbmNsYXNzIExhenlMb2FkIHtcbiAgLyoqXG4gICAqIGNsYXNzIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7aW1hZ2VzTGlzdH0gbm9kZWxpc3Qgb2Ygc2VsZWN0ZWQgaW1hZ2VzXG4gICAqIEBwYXJhbSB7b2JzZXJ2ZXJDb25maWd9IG9iamVjdCBvZiBpbnRlcnNlY3Rpb25PYnNlcnZlciBjb25maWd1cmF0aW9uXG4gICAqIEBwYXJhbSB7Y2xhc3NOYW1lc30gYXJyYXkgb2YgY2xhc3NlcyBhcHBsaWVkXG4gICAqL1xuICBjb25zdHJ1Y3RvcihpbWFnZXNMaXN0LCBvYnNlcnZlckNvbmZpZywgY2xhc3NOYW1lcykge1xuICAgIHRoaXMuaW1hZ2VzTGlzdCA9IGltYWdlc0xpc3Q7XG4gICAgdGhpcy5vYnNlcnZlckNvbmZpZyA9IG9ic2VydmVyQ29uZmlnO1xuICAgIHRoaXMuY2xhc3NOYW1lcyA9IGNsYXNzTmFtZXM7IC8vIGFkZCBvbkVudGVyLCBvbkVudGVyQWN0aXZlP1xuICB9XG5cbiAgcHhUT3Z3KHZhbHVlKSB7XG4gICAgdmFyIHcgPSB3aW5kb3csXG4gICAgICBkID0gZG9jdW1lbnQsXG4gICAgICBlID0gZC5kb2N1bWVudEVsZW1lbnQsXG4gICAgICBnID0gZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLFxuICAgICAgeCA9IHcuaW5uZXJXaWR0aCB8fCBlLmNsaWVudFdpZHRoIHx8IGcuY2xpZW50V2lkdGg7XG5cbiAgICB2YXIgcmVzdWx0ID0gKDEwMCp2YWx1ZSkveDtcbiAgICByZXR1cm4gcmVzdWx0ICsgJ3Z3JztcbiAgfTtcblxuICAvKipcbiAgICogQXBwbHkgdGhlIGltYWdlOiBwcmVsb2FkZWQgaW1hZ2UgaXMgbG9hZGVkIGJ1dCBub3QgYXBwbGllZCB0byBhY3R1YWwgaW1hZ2UgZWxlbWVudFxuICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2U6IHRoZSBpbWFnZSBlbGVtZW50IHRoYXQgd2UgYXJlIHRhcmdldHRpbmdcbiAgICovXG4gIGFwcGx5SW1hZ2UoaW1hZ2UpIHtcbiAgICBjb25zdCBzcmMgPSBpbWFnZS5kYXRhc2V0LnNyYztcbiAgICBjb25zdCBzcmNzZXQgPSBpbWFnZS5kYXRhc2V0LnNyY3NldCB8fCBudWxsO1xuICAgIGNvbnN0IHNpemVzID0gaW1hZ2UuZGF0YXNldC5zaXplcyB8fCB0aGlzLnB4VE92dyhpbWFnZS5wYXJlbnRFbGVtZW50LmNsaWVudFdpZHRoKTtcblxuICAgIGlmICghc3JjKSB7XG4gICAgICByZXR1cm47XG4gICAgICAvL3Rocm93IG5ldyBFcnJvcignTm8gaW1hZ2Ugc3JjIGF0dHJpYnV0ZSBwcm92aWRlZCcpO1xuICAgIH1cblxuICAgIC8vIFByZXZlbnQgdGhpcyBmcm9tIGJlaW5nIGxhenkgbG9hZGVkIGEgc2Vjb25kIHRpbWUuXG4gICAgaW1hZ2UuY2xhc3NMaXN0LmFkZCgnZGNmLWxhenktbG9hZGVkJyk7XG4gICAgc3JjICYmIChpbWFnZS5zcmMgPSBzcmMpO1xuICAgIHNyYyAmJiAoaW1hZ2UucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXNyYycpKTtcbiAgICBzcmNzZXQgJiYgKGltYWdlLnNyY3NldCA9IHNyY3NldCk7XG4gICAgc3Jjc2V0ICYmIChpbWFnZS5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtc3Jjc2V0JykpO1xuICAgIHNpemVzICYmIChpbWFnZS5zaXplcyA9IHNpemVzKTtcbiAgICBzaXplcyAmJiAoaW1hZ2UucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXNpemVzJykpO1xuICAgIHRoaXMuY2xhc3NOYW1lcy5sZW5ndGggJiYgdGhpcy5jbGFzc05hbWVzLmZvckVhY2goY2xhc3NOYW1lID0+IGltYWdlLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEZldGNoZXMgdGhlIGltYWdlIGZvciB0aGUgZ2l2ZW4gc291cmNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzcmNcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNyY3NldCwgZGVmYXVsdHMgdG8gbnVsbCBpZiBub3QgcHJvdmlkZWRcbiAgICovXG4gIGZldGNoSW1hZ2Uoc3JjLCBzcmNzZXQgPSBudWxsLCBzaXplcyA9IG51bGwpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIHNyYyAmJiAoaW1hZ2Uuc3JjID0gc3JjKTtcbiAgICAgIHNyY3NldCAmJiAoaW1hZ2Uuc3Jjc2V0ID0gc3Jjc2V0KTtcbiAgICAgIHNpemVzICYmIChpbWFnZS5zaXplcyA9IHNpemVzKTtcblxuICAgICAgaW1hZ2Uub25sb2FkID0gcmVzb2x2ZTtcbiAgICAgIGltYWdlLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUHJlbG9hZHMgdGhlIGltYWdlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBpbWFnZVxuICAgKi9cbiAgcHJlbG9hZEltYWdlKGltYWdlKSB7XG4gICAgY29uc3Qgc3JjID0gaW1hZ2UuZGF0YXNldC5zcmM7XG4gICAgY29uc3Qgc3Jjc2V0ID0gaW1hZ2UuZGF0YXNldC5zcmNzZXQ7XG4gICAgY29uc3Qgc2l6ZXMgPSBpbWFnZS5kYXRhc2V0LnNpemVzIHx8IG51bGw7XG5cbiAgICBpZiAoIXNyYykge1xuICAgICAgcmV0dXJuO1xuICAgICAgLy90aHJvdyBuZXcgRXJyb3IoJ05vIGltYWdlIHNyYyBhdHRyaWJ1dGUgcHJvdmlkZWQnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5mZXRjaEltYWdlKHNyYywgc3Jjc2V0LCBzaXplcykuY2F0Y2goZXJyID0+IGBJbWFnZSBmYWlsZWQgdG8gZmV0Y2ggJHtlcnIubWVzfWApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBMb2FkIGFsbCBvZiB0aGUgaW1hZ2VzIGltbWVkaWF0ZWx5XG4gICAqIEBwYXJhbSB7Tm9kZUxpc3RPZjxFbGVtZW50Pn0gcHJlbG9hZFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGltYWdlc1xuICAgKi9cbiAgbG9hZEltYWdlc0ltbWVkaWF0ZWx5KGltYWdlcywgcHJlbG9hZCA9IHRydWUpIHtcbiAgICAvLyBmb3JlYWNoKCkgaXMgbm90IHN1cHBvcnRlZCBpbiBJRVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgaW1hZ2UgPSBpbWFnZXNbaV07XG4gICAgICBpZiAocHJlbG9hZCA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLnByZWxvYWRJbWFnZShpbWFnZSk7XG4gICAgICB9XG4gICAgICB0aGlzLmFwcGx5SW1hZ2UoaW1hZ2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNjb25uZWN0IHRoZSBvYnNlcnZlclxuICAgKi9cbiAgZGlzY29ubmVjdCgpIHtcbiAgICBpZiAoIXRoaXMub2JzZXJ2ZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgfTtcblxuICAvKipcbiAgICogT24gaW50ZXJzZWN0aW9uXG4gICAqIEBwYXJhbSB7YXJyYXl9IGludGVyc2VjdGlvbiBlbnRyaWVzXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBpbnRlcnNlY3Rpb24gb2JzZXJ2ZXJcbiAgICovXG4gIG9uSW50ZXJzZWN0aW9uID0gKGVudHJpZXMsIG9ic2VydmVyKSA9PiB7XG5cbiAgICAvLyBEaXNjb25uZWN0IGlmIHdlJ3ZlIGFscmVhZHkgbG9hZGVkIGFsbCBvZiB0aGUgaW1hZ2VzXG4gICAgaWYgKHRoaXMuaW1hZ2VDb3VudCA9PT0gMCkge1xuICAgICAgdGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfVxuXG4gICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBlbnRyaWVzXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZW50cnkgPSBlbnRyaWVzW2ldO1xuXG4gICAgICAvLyBBcmUgd2UgaW4gdmlld3BvcnQ/XG4gICAgICAvLyBjb25zb2xlLmxvZyhlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyk7XG5cbiAgICAgIGlmIChlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyA+IG9ic2VydmVyLnRocmVzaG9sZHNbMF0gJiYgZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gPCBvYnNlcnZlci50aHJlc2hvbGRzWzFdKSB7XG4gICAgICAgIHRoaXMucHJlbG9hZEltYWdlKGVudHJ5LnRhcmdldCk7XG4gICAgICB9IGVsc2UgaWYgKGVudHJ5LmludGVyc2VjdGlvblJhdGlvID4gb2JzZXJ2ZXIudGhyZXNob2xkc1sxXSkge1xuICAgICAgICB0aGlzLmltYWdlQ291bnQtLTtcbiAgICAgICAgdGhpcy5hcHBseUltYWdlKGVudHJ5LnRhcmdldCk7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIudW5vYnNlcnZlKGVudHJ5LnRhcmdldCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG5cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICBpZighdGhpcy5pbWFnZXNMaXN0KSByZXR1cm47XG5cbiAgICAvLyBjb3VudGVyOiBrZWVwcyB0cmFjayBvZiB3aGljaCBpbWFnZXMgdGhhdCBoYXNuJ3QgYmVlbiBsb2FkZWRcbiAgICB0aGlzLmltYWdlQ291bnQgPSB0aGlzLmltYWdlc0xpc3QubGVuZ3RoO1xuXG4gICAgaWYgKFwibG9hZGluZ1wiIGluIEhUTUxJbWFnZUVsZW1lbnQucHJvdG90eXBlKSB7XG4gICAgICAvLyBOYXRpdmUgbGF6eSBsb2FkaW5nIElTIHN1cHBvcnRlZCwgc28gc2V0IHNyYy1kYXRhIHRvIHNyY1xuICAgICAgdGhpcy5sb2FkSW1hZ2VzSW1tZWRpYXRlbHkodGhpcy5pbWFnZXNMaXN0LCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5hdGl2ZSBsYXp5IGxvYWRpbmcgTk9UIHN1cHBvcnRlZCwgc28gaGFuZGxlIHZpYSBqYXZhc2NyaXB0XG4gICAgICAvLyBJZiBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBpbnRlcnNlY3Rpb24gb2JzZXJ2ZXIsIGxvYWQgdGhlIGltYWdlcyBpbW1lZGlhdGVseVxuICAgICAgaWYgKCEoJ0ludGVyc2VjdGlvbk9ic2VydmVyJyBpbiB3aW5kb3cpKSB7XG4gICAgICAgIHRoaXMubG9hZEltYWdlc0ltbWVkaWF0ZWx5KHRoaXMuaW1hZ2VzTGlzdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJdCBpcyBzdXBwb3J0ZWQsIGxvYWQgdGhlIGltYWdlc1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKHRoaXMub25JbnRlcnNlY3Rpb24sIHRoaXMub2JzZXJ2ZXJDb25maWcpO1xuXG4gICAgICAgIC8vIGZvcmVhY2goKSBpcyBub3Qgc3VwcG9ydGVkIGluIElFXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbWFnZUNvdW50OyBpKyspIHtcbiAgICAgICAgICBsZXQgaW1hZ2UgPSB0aGlzLmltYWdlc0xpc3RbaV07XG4gICAgICAgICAgaWYgKGltYWdlLmNsYXNzTGlzdC5jb250YWlucygnZGNmLWxhenktbG9hZGVkJykpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZShpbWFnZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxucmV0dXJuIExhenlMb2FkO1xufSkpO1xuIiwiOyhmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoWycuL2RjZi11dWlkR2VuJ10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCcuL2RjZi11dWlkR2VuJykpO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuZGNmTW9kYWwgPSBmYWN0b3J5KHJvb3QuZGNmSGVscGVyVXVpZHY0KTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbih1dWlkdjQpIHtcbmNvbnN0IGJvZHlTY3JvbGxMb2NrID0gcmVxdWlyZSgnYm9keS1zY3JvbGwtbG9jaycpO1xuY29uc3QgZGlzYWJsZUJvZHlTY3JvbGwgPSBib2R5U2Nyb2xsTG9jay5kaXNhYmxlQm9keVNjcm9sbDtcbmNvbnN0IGVuYWJsZUJvZHlTY3JvbGwgPSBib2R5U2Nyb2xsTG9jay5lbmFibGVCb2R5U2Nyb2xsO1xuXG5jbGFzcyBNb2RhbCB7XG4gIC8qKlxuICAgKiBjbGFzcyBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge21vZGFsc30gbW9kYWxzIG9mIHNlbGVjdGVkIG1vZGFsc1xuICAgKi9cbiAgY29uc3RydWN0b3IobW9kYWxzKSB7XG4gICAgdGhpcy5tb2RhbHMgPSBtb2RhbHM7XG4gIH1cblxuICAvKipcbiAgICogUHJlcGVuZCBtb2RhbHMgdG8gYm9keSBzbyB0aGF0IGVsZW1lbnRzIG91dHNpZGUgb2YgbW9kYWwgY2FuIGJlIG1hZGUgaW5lcnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGVsOiB0aGUgZWxlbWVudCB0aGF0IHdlIGFyZSB0YXJnZXR0aW5nXG4gICAqL1xuICBwcmVwZW5kQm9keShlbCkge1xuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG4gICAgY29uc3QgZmlyc3RDaGlsZCA9IGJvZHkuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgYm9keS5pbnNlcnRCZWZvcmUoZWwsIGZpcnN0Q2hpbGQpO1xuICB9XG5cbiAgLy8gT3BlbiBtb2RhbFxuICBvcGVuTW9kYWwobW9kYWxJZCwgb3BlbkJ0bklkKSB7XG5cbiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuICAgIGNvbnN0IHNraXBOYXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGNmLXNraXAtbmF2Jyk7XG4gICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RjZi1oZWFkZXInKTtcbiAgICBjb25zdCBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RjZi1tYWluJyk7XG4gICAgY29uc3QgZm9vdGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RjZi1mb290ZXInKTtcbiAgICBjb25zdCBub25Nb2RhbHMgPSBbIHNraXBOYXYsIGhlYWRlciwgbWFpbiwgZm9vdGVyIF07XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubW9kYWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBtb2RhbCA9IHRoaXMubW9kYWxzW2ldO1xuICAgICAgaWYgKG1vZGFsLmdldEF0dHJpYnV0ZSgnaWQnKSAhPT0gbW9kYWxJZCkge1xuICAgICAgICB0aGlzLmNsb3NlTW9kYWwobW9kYWwuZ2V0QXR0cmlidXRlKCdpZCcpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB0aGlzTW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtb2RhbElkKTtcbiAgICBsZXQgbW9kYWxPcGVuID0gdGhpc01vZGFsLmdldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKSA9PT0gJ2ZhbHNlJyA/IHRydWUgOiBmYWxzZTtcblxuICAgIGlmIChvcGVuQnRuSWQpIHtcbiAgICAgIHRoaXMuY3VycmVudEJ0biA9IG9wZW5CdG5JZDtcbiAgICB9XG5cbiAgICB0aGlzLmN1cnJlbnRNb2RhbCA9IG1vZGFsSWQ7XG5cbiAgICAvLyBEb24ndCBvcGVuIG1vZGFsIGlmIGl0J3MgYWxyZWFkeSBvcGVuXG4gICAgaWYgKG1vZGFsT3Blbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFNldCBlbGVtZW50cyBvdXRzaWRlIG9mIG1vZGFsIHRvIGJlIGluZXJ0IGFuZCBoaWRkZW4gZnJvbSBzY3JlZW4gcmVhZGVyc1xuICAgIG5vbk1vZGFscy5mb3JFYWNoKGZ1bmN0aW9uKGVsLCBhcnJheSkge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsJ3RydWUnKTtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgnaW5lcnQnLCcnKTtcbiAgICB9KTtcblxuICAgIC8vIFByZXZlbnQgYm9keSBmcm9tIHNjcm9sbGluZ1xuICAgIGRpc2FibGVCb2R5U2Nyb2xsKHRoaXNNb2RhbCk7XG5cbiAgICAvLyBBZGQgYC5kY2YtbW9kYWwtaXMtb3BlbmAgaGVscGVyIGNsYXNzIHRvIGJvZHlcbiAgICBib2R5LmNsYXNzTGlzdC5hZGQoJ2RjZi1tb2RhbC1pcy1vcGVuJyk7XG5cbiAgICAvLyBTZXQgYXR0cmlidXRlIGZvciB0aGlzIG1vZGFsXG4gICAgdGhpc01vZGFsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcblxuICAgIC8vIEFkZC9yZW1vdmUgY2xhc3NlcyB0byB0aGlzIG1vZGFsXG4gICAgdGhpc01vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2RjZi1vcGFjaXR5LTAnLCAnZGNmLXBvaW50ZXItZXZlbnRzLW5vbmUnLCAnZGNmLWludmlzaWJsZScpO1xuICAgIHRoaXNNb2RhbC5jbGFzc0xpc3QuYWRkKCdkY2Ytb3BhY2l0eS0xMDAnLCAnZGNmLXBvaW50ZXItZXZlbnRzLWF1dG8nKTtcblxuICAgIGNvbnN0IGtleWNvZGVUYWIgPSA5O1xuICAgIGNvbnN0IHRhYkZvY3VzRWxzID0gdGhpc01vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbjpub3QoW2hpZGRlbl0pOm5vdChbZGlzYWJsZWRdKSwgW2hyZWZdOm5vdChbaGlkZGVuXSksIGlucHV0Om5vdChbaGlkZGVuXSk6JyArXG4gICAgICAgICAgICAnbm90KFt0eXBlPVwiaGlkZGVuXCJdKTpub3QoW2Rpc2FibGVkXSksIHNlbGVjdDpub3QoW2hpZGRlbl0pOm5vdChbZGlzYWJsZWRdKSwgdGV4dCcgK1xuICAgICAgICAgICAgJ2FyZWE6bm90KFtoaWRkZW5dKTpub3QoW2Rpc2FibGVkXSksIFt0YWJpbmRleD1cIjBcIl06bm90KFtoaWRkZW5dKTpub3QoW2Rpc2FibGVkXSknICtcbiAgICAgICAgICAgICcsIHN1bW1hcnk6bm90KFtoaWRkZW5dKSwgW2NvbnRlbnRlZGl0YWJsZV06bm90KFtoaWRkZW5dKSwgYXVkaW9bY29udHJvbHNdOm5vdChbaCcgK1xuICAgICAgICAgICAgJ2lkZGVuXSksIHZpZGVvW2NvbnRyb2xzXTpub3QoW2hpZGRlbl0pJyk7XG4gICAgbGV0IGZpcnN0VGFiRm9jdXNFbCA9IHRhYkZvY3VzRWxzWzBdO1xuICAgIGxldCBsYXN0VGFiRm9jdXNFbCA9IHRhYkZvY3VzRWxzW3RhYkZvY3VzRWxzLmxlbmd0aCAtIDFdO1xuXG4gICAgLy8gU2VuZCBmb2N1cyB0byB0aGUgZmlyc3QgZm9jdXNhYmxlIGVsZW1lbnQgaW4gdGhlIG1vZGFsIGNvbnRlbnRcbiAgICBmaXJzdFRhYkZvY3VzRWwuZm9jdXMoKTtcblxuICAgIC8vIFRyYXAgZm9jdXMgaW5zaWRlIHRoZSBtb2RhbCBjb250ZW50XG4gICAgdGhpc01vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7XG5cbiAgICAgIGxldCBpc1RhYlByZXNzZWQgPSBlLmtleSA9PT0gJ1RhYicgfHwgZS5rZXlDb2RlID09PSBrZXljb2RlVGFiO1xuXG4gICAgICBpZiAoIWlzVGFiUHJlc3NlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChlLmtleSA9PT0gJ1RhYicgfHwgZS5rZXlDb2RlID09PSBrZXljb2RlVGFiKSB7XG4gICAgICAgIGlmICggZS5zaGlmdEtleSApIHsgLy8gVGFiIGJhY2t3YXJkcyAoc2hpZnQgKyB0YWIpXG4gICAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGZpcnN0VGFiRm9jdXNFbCkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgbGFzdFRhYkZvY3VzRWwuZm9jdXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7IC8vIFRhYiBmb3J3YXJkc1xuICAgICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBsYXN0VGFiRm9jdXNFbCkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZmlyc3RUYWJGb2N1c0VsLmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBDbG9zZSBtb2RhbFxuICBjbG9zZU1vZGFsKG1vZGFsSWQpIHtcblxuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG4gICAgY29uc3Qgc2tpcE5hdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkY2Ytc2tpcC1uYXYnKTtcbiAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGNmLWhlYWRlcicpO1xuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGNmLW1haW4nKTtcbiAgICBjb25zdCBmb290ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGNmLWZvb3RlcicpO1xuICAgIGNvbnN0IG5vbk1vZGFscyA9IFtza2lwTmF2LCBoZWFkZXIsIG1haW4sIGZvb3Rlcl07XG4gICAgY29uc3QgdGhpc01vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobW9kYWxJZCk7XG4gICAgbGV0IG1vZGFsQ2xvc2VkID0gdGhpc01vZGFsLmdldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlO1xuICAgIHRoaXMuY3VycmVudE1vZGFsID0gbnVsbDtcblxuICAgIC8vIERvbid0IGNsb3NlIG1vZGFsIGlmIGl0J3MgYWxyZWFkeSBjbG9zZWRcbiAgICBpZiAobW9kYWxDbG9zZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgYC5kY2YtbW9kYWwtaXMtb3BlbmAgaGVscGVyIGNsYXNzIGZyb20gYm9keVxuICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnZGNmLW1vZGFsLWlzLW9wZW4nKTtcblxuICAgIC8vIFJlc3RvcmUgdmlzaWJpbGl0eSBhbmRkIGZ1bmN0aW9uYWxpdHkgdG8gZWxlbWVudHMgb3V0c2lkZSBvZiBtb2RhbFxuICAgIG5vbk1vZGFscy5mb3JFYWNoKGZ1bmN0aW9uKGVsLCBhcnJheSkge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsJ2ZhbHNlJyk7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2luZXJ0Jyk7XG4gICAgfSk7XG5cbiAgICAvLyBTZXQgYXR0cmlidXRlIGZvciB0aGlzIG1vZGFsXG4gICAgdGhpc01vZGFsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuXG4gICAgLy8gQWRkL3JlbW92ZSBjbGFzc2VzIHRvIHRoaXMgbW9kYWxcbiAgICB0aGlzTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZGNmLW9wYWNpdHktMTAwJywgJ2RjZi1wb2ludGVyLWV2ZW50cy1hdXRvJyk7XG4gICAgdGhpc01vZGFsLmNsYXNzTGlzdC5hZGQoJ2RjZi1vcGFjaXR5LTAnLCAnZGNmLXBvaW50ZXItZXZlbnRzLW5vbmUnKTtcblxuICAgIC8vIE1vZGFsIHRyYW5zaXRpb25cbiAgICBmdW5jdGlvbiBtb2RhbFRyYW5zaXRpb24oKSB7XG5cbiAgICBcdC8vIFJlbW92ZSBldmVudCBsaXN0ZW5lciBhZnRlciB0aGUgbW9kYWwgdHJhbnNpdGlvblxuICAgICAgdGhpc01vZGFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBtb2RhbFRyYW5zaXRpb24pO1xuXG4gICAgICAvLyBBZGQgdGhlIGAuZGNmLWludmlzaWJsZWAgY2xhc3MgdG8gdGhpcyBtb2RhbCBhZnRlciB0aGUgdHJhbnNpdGlvblxuICAgICAgaWYgKCF0aGlzTW9kYWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdkY2YtaW52aXNpYmxlJykpIHtcbiAgICAgICAgdGhpc01vZGFsLmNsYXNzTGlzdC5hZGQoJ2RjZi1pbnZpc2libGUnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXIgZm9yIHRoZSBlbmQgb2YgdGhlIG1vZGFsIHRyYW5zaXRpb25cbiAgICB0aGlzTW9kYWwuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIG1vZGFsVHJhbnNpdGlvbik7XG5cbiAgICAvLyBTZW5kIGZvY3VzIGJhY2sgdG8gYnV0dG9uIHRoYXQgb3BlbmVkIG1vZGFsXG4gICAgaWYgKHRoaXMuY3VycmVudEJ0bikge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5jdXJyZW50QnRuKS5mb2N1cygpO1xuICAgIH1cblxuICAgIC8vIEFsbG93IGJvZHkgdG8gc2Nyb2xsXG4gICAgZW5hYmxlQm9keVNjcm9sbCh0aGlzTW9kYWwpO1xuICB9XG5cbiAgYnRuT3Blbkxpc3RlbihidG5PcGVuTW9kYWwsIG1vZGFsSWQsIGJ0bklkKSB7XG4gICAgbGV0IG1vZGFsSW5zdGFuY2UgPSB0aGlzO1xuXG4gICAgLy8gTGlzdGVuIGZvciB3aGVuICdvcGVuIG1vZGFsJyBidXR0b24gaXMgcHJlc3NlZFxuICAgIGJ0bk9wZW5Nb2RhbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgLy8gT3BlbiBtb2RhbCB3aGVuIGJ1dHRvbiBpcyBwcmVzc2VkXG4gICAgICBtb2RhbEluc3RhbmNlLm9wZW5Nb2RhbChtb2RhbElkLCBidG5JZCk7XG4gICAgfSwgZmFsc2UpO1xuICB9XG5cbiAgYnRuQ2xvc2VMaXN0ZW4oYnRuQ2xvc2VNb2RhbCwgbW9kYWwpIHtcbiAgICBsZXQgbW9kYWxJbnN0YW5jZSA9IHRoaXM7XG5cbiAgICAvLyBMaXN0ZW4gZm9yIHdoZW4gJ2Nsb3NlIG1vZGFsJyBidXR0b24gaXMgcHJlc3NlZFxuICAgIGJ0bkNsb3NlTW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgIC8vIE9wZW4gbW9kYWwgd2hlbiBidXR0b24gaXMgcHJlc3NlZFxuICAgICAgbW9kYWxJbnN0YW5jZS5jbG9zZU1vZGFsKG1vZGFsLmdldEF0dHJpYnV0ZSgnaWQnKSk7XG4gICAgfSwgZmFsc2UpO1xuICB9XG5cbiAgb3ZlcmxheUxpc3Rlbihtb2RhbCwgbW9kYWxDb250ZW50KSB7XG4gICAgbGV0IG1vZGFsSW5zdGFuY2UgPSB0aGlzO1xuXG4gICAgLy8gTGlzdGVuIGZvciBjbGlja3Mgb24gdGhlIG9wZW4gbW9kYWxcbiAgICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuXG4gICAgICAvLyBJZiB0aGUgY2xpY2sgaXMgaW4gbW9kYWwgY29udGVudCwgbGVhdmUgdGhlIG1vZGFsIG9wZW5cbiAgICAgIGlmIChtb2RhbENvbnRlbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBjbGljayBpcyBvdXRzaWRlIHRoZSBtb2RhbCBjb250ZW50IChvbiB0aGUgbW9kYWwgb3ZlcmxheSksIGNsb3NlIHRoZSBtb2RhbFxuICAgICAgbW9kYWxJbnN0YW5jZS5jbG9zZU1vZGFsKG1vZGFsLmdldEF0dHJpYnV0ZSgnaWQnKSk7XG4gICAgfSk7XG4gIH1cblxuICBlc2NMaXN0ZW4oKSB7XG4gICAgbGV0IG1vZGFsSW5zdGFuY2UgPSB0aGlzO1xuXG4gICAgLy8gTGlzdGVuIGZvciB3aGVuICdlc2MnIGtleSBpcyBwcmVzc2VkXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudCkge1xuXG4gICAgICAvLyBDbG9zZSB0aGUgY3VycmVudGx5IG9wZW4gbW9kYWwgd2hlbiAnZXNjJyBrZXkgaXMgcHJlc3NlZFxuICAgICAgaWYgKGV2ZW50LndoaWNoID09PSAyNyAmJiBtb2RhbEluc3RhbmNlLmN1cnJlbnRNb2RhbCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBtb2RhbEluc3RhbmNlLmNsb3NlTW9kYWwobW9kYWxJbnN0YW5jZS5jdXJyZW50TW9kYWwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIH1cblxuICBpbml0aWFsaXplKCkge1xuICAgIGlmKCF0aGlzLm1vZGFscykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIERlZmluZSBjb25zdGFudHMgdXNlZCBpbiBtb2RhbCBjb21wb25lbnRcbiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuICAgIGNvbnN0IGJ0bnNPcGVuTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGNmLWJ0bi1vcGVuLW1vZGFsJyk7XG4gICAgY29uc3QgYnRuc0Nsb3NlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGNmLWJ0bi1jbG9zZS1tb2RhbCcpO1xuICAgIGNvbnN0IG1vZGFsc0NvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGNmLW1vZGFsLWNvbnRlbnQnKTtcblxuICAgIGxldCBjdXJyZW50QnRuID0gbnVsbDtcbiAgICBsZXQgY3VycmVudE1vZGFsID0gbnVsbDtcblxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgYnV0dG9ucyB0aGF0IG9wZW4gbW9kYWxzXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidG5zT3Blbk1vZGFsLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBidG5PcGVuTW9kYWwgPSBidG5zT3Blbk1vZGFsW2ldO1xuICAgICAgY29uc3QgbW9kYWxJZCA9IGJ0bk9wZW5Nb2RhbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3BlbnMtbW9kYWwnKTtcblxuICAgICAgLy8gR2VuZXJhdGUgdW5pcXVlIElEIGZvciBlYWNoICdvcGVuIG1vZGFsJyBidXR0b25cbiAgICAgIGNvbnN0IGJ0bklkID0gdXVpZHY0KCk7XG4gICAgICBidG5PcGVuTW9kYWwuc2V0QXR0cmlidXRlKCdpZCcsIGJ0bklkKTtcblxuICAgICAgLy8gQnV0dG9ucyBhcmUgZGlzYWJsZWQgYnkgZGVmYXVsdCB1bnRpbCBKYXZhU2NyaXB0IGhhcyBsb2FkZWQuXG4gICAgICAvLyBSZW1vdmUgdGhlICdkaXNhYmxlZCcgYXR0cmlidXRlIHRvIG1ha2UgdGhlbSBmdW5jdGlvbmFsLlxuICAgICAgYnRuT3Blbk1vZGFsLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgIHRoaXMuYnRuT3Blbkxpc3RlbihidG5PcGVuTW9kYWwsIG1vZGFsSWQsIGJ0bklkKTtcbiAgICB9XG5cbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIG1vZGFsc1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tb2RhbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG1vZGFsID0gdGhpcy5tb2RhbHNbaV07XG4gICAgICBjb25zdCBtb2RhbENvbnRlbnQgPSBtb2RhbHNDb250ZW50W2ldO1xuICAgICAgY29uc3QgYnRuQ2xvc2VNb2RhbCA9IGJ0bnNDbG9zZU1vZGFsW2ldO1xuICAgICAgY29uc3QgbW9kYWxJZCA9IG1vZGFsLmlkO1xuICAgICAgY29uc3QgbW9kYWxIZWFkaW5nSWQgPSBtb2RhbElkICsgJy1oZWFkaW5nJztcblxuICAgICAgLy8gR2V0IGFsbCBoZWFkaW5ncyBpbiBlYWNoIG1vZGFsXG4gICAgICBjb25zdCBtb2RhbEhlYWRpbmdzID0gbW9kYWxDb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2gxLCBoMiwgaDMsIGg0LCBoNSwgaDYnKTtcblxuICAgICAgLy8gU2V0IElEIG9uIHRoZSBmaXJzdCBoZWFkaW5nIG9mIGVhY2ggbW9kYWxcbiAgICAgIG1vZGFsSGVhZGluZ3NbMF0uaWQgPSBtb2RhbEhlYWRpbmdJZDtcblxuICAgICAgLy8gUHJlcGVuZCBtb2RhbHMgdG8gYm9keSBzbyB0aGF0IGVsZW1lbnRzIG91dHNpZGUgb2YgbW9kYWwgY2FuIGJlIG1hZGUgaW5lcnQgd2hlbiBtb2RhbCBpcyBvcGVuXG4gICAgICB0aGlzLnByZXBlbmRCb2R5KG1vZGFsKTtcblxuICAgICAgLy8gTW9kYWxzIGFyZSBoaWRkZW4gYnkgZGVmYXVsdCB1bnRpbCBKYXZhU2NyaXB0IGhhcyBsb2FkZWQuXG4gICAgICAvLyBSZW1vdmUgYGhpZGRlbmAgYXR0cmlidXRlLCB0aGVuIGxhdGVyIHJlcGxhY2Ugd2l0aCBgLmRjZi1pbnZpc2libGVgIHRvIGFsbG93IGZvciBtb2RhbCB0cmFuc2l0aW9ucy5cbiAgICAgIG1vZGFsLnJlbW92ZUF0dHJpYnV0ZSgnaGlkZGVuJyk7XG5cbiAgICAgIC8vIFNldCBhdHRyaWJ1dGVzIGZvciBlYWNoIG1vZGFsXG4gICAgICBtb2RhbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWxsZWRieScsIG1vZGFsSGVhZGluZ0lkKTtcbiAgICAgIG1vZGFsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgbW9kYWwuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2RpYWxvZycpO1xuICAgICAgbW9kYWwuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xuXG4gICAgICAvLyBDaGVjayBtb2RhbCBmb3IgYW55IGFkZGl0aW9uYWwgY2xhc3Nlc1xuICAgICAgaWYgKG1vZGFsLmNsYXNzTGlzdC5sZW5ndGggPT09IDEgJiYgbW9kYWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdkY2YtbW9kYWwnKSkge1xuICAgICAgICAvLyBJZiBubyBjdXN0b20gY2xhc3NlcyBhcmUgcHJlc2VudCwgYWRkIGRlZmF1bHQgYmFja2dyb3VuZCB1dGlsaXR5IGNsYXNzIHRvIG1vZGFsXG4gICAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2RjZi1iZy1vdmVybGF5LWRhcmsnKTtcbiAgICAgIH1cblxuICAgICAgLy8gQWRkIGRlZmF1bHQgdXRpbGl0eSBjbGFzc2VzIHRvIGVhY2ggbW9kYWxcbiAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2RjZi1maXhlZCcsICdkY2YtcGluLXRvcCcsICdkY2YtcGluLWxlZnQnLCAnZGNmLWgtMTAwJScsICdkY2Ytdy0xMDAlJywgJ2RjZi1kLWZsZXgnLCAnZGNmLWFpLWNlbnRlcicsICdkY2YtamMtY2VudGVyJywgJ2RjZi1vcGFjaXR5LTAnLCAnZGNmLXBvaW50ZXItZXZlbnRzLW5vbmUnLCAnZGNmLWludmlzaWJsZScpO1xuXG4gICAgICAvLyBTZXQgYXR0cmlidXRlIGZvciBtb2RhbCBjb250ZW50XG4gICAgICBtb2RhbENvbnRlbnQuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2RvY3VtZW50Jyk7XG5cbiAgICAgIC8vIENoZWNrIG1vZGFsIGNvbnRlbnQgZm9yIGFueSBhZGRpdGlvbmFsIGNsYXNzZXNcbiAgICAgIGlmIChtb2RhbENvbnRlbnQuY2xhc3NMaXN0Lmxlbmd0aCA9PT0gMSAmJiBtb2RhbENvbnRlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkY2YtbW9kYWwtY29udGVudCcpKSB7XG4gICAgICAgIC8vIElmIG5vIGN1c3RvbSBjbGFzc2VzIGFyZSBwcmVzZW50LCBhZGQgZGVmYXVsdCB1dGlsaXR5IGNsYXNzZXMgdG8gbW9kYWwgY29udGVudFxuICAgICAgICBtb2RhbENvbnRlbnQuY2xhc3NMaXN0LmFkZCgnZGNmLWJnLXdoaXRlJywgJ2RjZi1yZWxhdGl2ZScsICdkY2Ytd3JhcHBlcicsICdkY2YtcHQtOCcsICdkY2YtcGItNycsICdkY2YtaC1hdXRvJywgJ2RjZi1vdmVyZmxvdy15LWF1dG8nKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgZWFjaCAnY2xvc2UnIGJ1dHRvbiBmb3IgYW55IGFkZGl0aW9uYWwgY2xhc3Nlc1xuICAgICAgaWYgKGJ0bkNsb3NlTW9kYWwuY2xhc3NMaXN0Lmxlbmd0aCA9PT0gMSAmJiBidG5DbG9zZU1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnZGNmLWJ0bi1jbG9zZS1tb2RhbCcpKSB7XG4gICAgICAgIC8vIElmIG5vIGN1c3RvbSBjbGFzc2VzIGFyZSBwcmVzZW50LCBhZGQgZGVmYXVsdCB1dGlsaXR5IGNsYXNzZXMgdG8gJ2Nsb3NlJyBidXR0b25cbiAgICAgICAgYnRuQ2xvc2VNb2RhbC5jbGFzc0xpc3QuYWRkKCdkY2YtYnRuJywgJ2RjZi1idG4tdGVydGlhcnknLCAnZGNmLWFic29sdXRlJywgJ2RjZi1waW4tdG9wJywgJ2RjZi1waW4tcmlnaHQnLCAnZGNmLXotMScpO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgYXR0cmlidXRlcyBmb3IgZWFjaCAnY2xvc2UnIGJ1dHRvblxuICAgICAgYnRuQ2xvc2VNb2RhbC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gICAgICBidG5DbG9zZU1vZGFsLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdDbG9zZScpO1xuXG4gICAgICB0aGlzLmVzY0xpc3RlbigpO1xuICAgICAgdGhpcy5vdmVybGF5TGlzdGVuKG1vZGFsLCBtb2RhbENvbnRlbnQpO1xuICAgICAgdGhpcy5idG5DbG9zZUxpc3RlbihidG5DbG9zZU1vZGFsLCBtb2RhbCk7XG5cbiAgICB9XG4gIH1cbn1cblxucmV0dXJuIE1vZGFsO1xufSkpO1xuIiwiOyhmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuZGNmSGVscGVyVXVpZHY0ID0gZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uKCkge1xuZnVuY3Rpb24gdXVpZHY0KCkge1xuICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuICAgIHZhciByID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMCxcbiAgICAgICAgdiA9IGMgPT09ICd4JyA/IHIgOiByICYgMHgzIHwgMHg4O1xuICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgfSk7XG59XG5cbnJldHVybiB1dWlkdjQ7XG59KSk7XG4iLCJsZXQgTGF6eUxvYWQgPSByZXF1aXJlKCdkY2YtbGF6eUxvYWQnKTtcbmxldCBNb2RhbCA9IHJlcXVpcmUoJ2RjZi1tb2RhbCcpO1xuLy8gbGV0IE5vdGljZSA9IHJlcXVpcmUoJ2RjZi1ub3RpY2UnKTtcblxuLy8gbGV0IGZsYXRwaWNrciA9IHJlcXVpcmUoJ2ZsYXRwaWNrci9mbGF0cGlja3InKTtcbi8vIHJlcXVpcmUoXCJmbGF0cGlja3IvZmxhdHBpY2tyLmNzc1wiKTtcblxuXG4vLyBjb25zdCBub3RpY2VPcHRpb25zID0ge1xuLy8gXHR3aWRnZXQ6ICdub3RpY2UnLFxuLy8gXHQnbm90aWNlLXR5cGUnOiAnYWxlcnQnLFxuLy8gXHRhbmltYXRpb246ICd0cnVlJyxcbi8vIFx0bG9jYXRpb246ICdmaXhlZEJvdHRvbScsXG4vLyBcdGNvbGxhcHNpYmxlOiAndHJ1ZScsXG4vLyBcdGlkOiAnZHluYW1pY05vdGljZTEnXG4vLyB9O1xuLy9cbi8vIE5vdGljZS5jcmVhdGUoJ1NwYWdoZXR0aSBNb25zdGVyIExpdmVzJywgJ1lvdSBrbm93IG5vIHNwYWdoZXR0aScsIG5vdGljZU9wdGlvbnMpO1xuXG5cbi8vIGxldCBkYXRlcGlja2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtd2lkZ2V0Kj1cImZsYXRwaWNrclwiXScpO1xuLy8gZmxhdHBpY2tyKGRhdGVwaWNrZXIsIHtcbi8vIFx0ZW5hYmxlVGltZTogdHJ1ZSxcbi8vIFx0ZGF0ZUZvcm1hdDogXCJZLW0tZCBoOmlLXCIsXG4vLyB9KTtcblxuY29uc3QgaW1hZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2xvYWRpbmc9bGF6eV0sIC5kY2YtbGF6eS1sb2FkJyk7XG5jb25zdCBvYnNlcnZlckNvbmZpZyA9IHtcblx0Ly8gZXh0ZW5kIGludGVyc2VjdGlvbiByb290IG1hcmdpbiBieSA1MHB4IHRvIHN0YXJ0IGludGVyc2VjdGlvbiBlYXJsaWVyIGJ5IDUwcHhcblx0cm9vdE1hcmdpbjogJzBweCAwcHggNTBweCAwcHgnLFxuXHR0aHJlc2hvbGQ6IFswLCAwLjQwXVxufTtcbmNvbnN0IGVudGVyQ2xhc3NOYW1lcyA9IFsnZGNmLWZhZGUtaW4nXTtcbmNvbnN0IGV4YW1wbGVMYXp5TG9hZCA9IG5ldyBMYXp5TG9hZChpbWFnZXMsIG9ic2VydmVyQ29uZmlnLCBlbnRlckNsYXNzTmFtZXMpO1xuZXhhbXBsZUxhenlMb2FkLmluaXRpYWxpemUoKTtcblxuY29uc3QgbW9kYWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRjZi1tb2RhbCcpO1xuY29uc3QgZXhhbXBsZU1vZGFsID0gbmV3IE1vZGFsKG1vZGFscyk7XG5leGFtcGxlTW9kYWwuaW5pdGlhbGl6ZSgpO1xuIiwiIWZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXCJleHBvcnRzXCJdLHQpO2Vsc2UgaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGV4cG9ydHMpdChleHBvcnRzKTtlbHNle3ZhciBvPXt9O3QobyksZS5ib2R5U2Nyb2xsTG9jaz1vfX0odGhpcyxmdW5jdGlvbihleHBvcnRzKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgdD0wLG89QXJyYXkoZS5sZW5ndGgpO3Q8ZS5sZW5ndGg7dCsrKW9bdF09ZVt0XTtyZXR1cm4gb31yZXR1cm4gQXJyYXkuZnJvbShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbD0hMTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KXt2YXIgZT17Z2V0IHBhc3NpdmUoKXtsPSEwfX07d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0ZXN0UGFzc2l2ZVwiLG51bGwsZSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0ZXN0UGFzc2l2ZVwiLG51bGwsZSl9dmFyIGQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lm5hdmlnYXRvciYmd2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybSYmL2lQKGFkfGhvbmV8b2QpLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0pLGM9W10sdT0hMSxhPS0xLHM9dm9pZCAwLHY9dm9pZCAwLGY9ZnVuY3Rpb24odCl7cmV0dXJuIGMuc29tZShmdW5jdGlvbihlKXtyZXR1cm4hKCFlLm9wdGlvbnMuYWxsb3dUb3VjaE1vdmV8fCFlLm9wdGlvbnMuYWxsb3dUb3VjaE1vdmUodCkpfSl9LG09ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8d2luZG93LmV2ZW50O3JldHVybiEhZih0LnRhcmdldCl8fCgxPHQudG91Y2hlcy5sZW5ndGh8fCh0LnByZXZlbnREZWZhdWx0JiZ0LnByZXZlbnREZWZhdWx0KCksITEpKX0sbz1mdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt2b2lkIDAhPT12JiYoZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQ9dix2PXZvaWQgMCksdm9pZCAwIT09cyYmKGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9cyxzPXZvaWQgMCl9KX07ZXhwb3J0cy5kaXNhYmxlQm9keVNjcm9sbD1mdW5jdGlvbihpLGUpe2lmKGQpe2lmKCFpKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoXCJkaXNhYmxlQm9keVNjcm9sbCB1bnN1Y2Nlc3NmdWwgLSB0YXJnZXRFbGVtZW50IG11c3QgYmUgcHJvdmlkZWQgd2hlbiBjYWxsaW5nIGRpc2FibGVCb2R5U2Nyb2xsIG9uIElPUyBkZXZpY2VzLlwiKTtpZihpJiYhYy5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRhcmdldEVsZW1lbnQ9PT1pfSkpe3ZhciB0PXt0YXJnZXRFbGVtZW50Omksb3B0aW9uczplfHx7fX07Yz1bXS5jb25jYXQocihjKSxbdF0pLGkub250b3VjaHN0YXJ0PWZ1bmN0aW9uKGUpezE9PT1lLnRhcmdldFRvdWNoZXMubGVuZ3RoJiYoYT1lLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WSl9LGkub250b3VjaG1vdmU9ZnVuY3Rpb24oZSl7dmFyIHQsbyxuLHI7MT09PWUudGFyZ2V0VG91Y2hlcy5sZW5ndGgmJihvPWkscj0odD1lKS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFktYSwhZih0LnRhcmdldCkmJihvJiYwPT09by5zY3JvbGxUb3AmJjA8cj9tKHQpOihuPW8pJiZuLnNjcm9sbEhlaWdodC1uLnNjcm9sbFRvcDw9bi5jbGllbnRIZWlnaHQmJnI8MD9tKHQpOnQuc3RvcFByb3BhZ2F0aW9uKCkpKX0sdXx8KGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIixtLGw/e3Bhc3NpdmU6ITF9OnZvaWQgMCksdT0hMCl9fWVsc2V7bj1lLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpZih2b2lkIDA9PT12KXt2YXIgZT0hIW4mJiEwPT09bi5yZXNlcnZlU2Nyb2xsQmFyR2FwLHQ9d2luZG93LmlubmVyV2lkdGgtZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO2UmJjA8dCYmKHY9ZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQsZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQ9dCtcInB4XCIpfXZvaWQgMD09PXMmJihzPWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3csZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiKX0pO3ZhciBvPXt0YXJnZXRFbGVtZW50Omksb3B0aW9uczplfHx7fX07Yz1bXS5jb25jYXQocihjKSxbb10pfXZhciBufSxleHBvcnRzLmNsZWFyQWxsQm9keVNjcm9sbExvY2tzPWZ1bmN0aW9uKCl7ZD8oYy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UudGFyZ2V0RWxlbWVudC5vbnRvdWNoc3RhcnQ9bnVsbCxlLnRhcmdldEVsZW1lbnQub250b3VjaG1vdmU9bnVsbH0pLHUmJihkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsbSxsP3twYXNzaXZlOiExfTp2b2lkIDApLHU9ITEpLGM9W10sYT0tMSk6KG8oKSxjPVtdKX0sZXhwb3J0cy5lbmFibGVCb2R5U2Nyb2xsPWZ1bmN0aW9uKHQpe2lmKGQpe2lmKCF0KXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoXCJlbmFibGVCb2R5U2Nyb2xsIHVuc3VjY2Vzc2Z1bCAtIHRhcmdldEVsZW1lbnQgbXVzdCBiZSBwcm92aWRlZCB3aGVuIGNhbGxpbmcgZW5hYmxlQm9keVNjcm9sbCBvbiBJT1MgZGV2aWNlcy5cIik7dC5vbnRvdWNoc3RhcnQ9bnVsbCx0Lm9udG91Y2htb3ZlPW51bGwsYz1jLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS50YXJnZXRFbGVtZW50IT09dH0pLHUmJjA9PT1jLmxlbmd0aCYmKGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIixtLGw/e3Bhc3NpdmU6ITF9OnZvaWQgMCksdT0hMSl9ZWxzZShjPWMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRhcmdldEVsZW1lbnQhPT10fSkpLmxlbmd0aHx8bygpfX0pO1xuIl19"}